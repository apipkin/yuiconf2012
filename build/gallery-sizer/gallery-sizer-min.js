YUI.add("gallery-sizer",function(e,t){e.Sizer=e.Base.create("sizer",e.Widget,[],{renderUI:function(){var t=e.Node.create("<img>"),n=e.Node.create('<span class="'+e.ClassNameManager.getClassName("text")+'"></span>');this.get("contentBox").append(t).append(n),this._img=t,this._txt=n,this._makeResize()},bindUI:function(){this.after("widthChange",this._afterWidthChange,this),this.after("heightChange",this._afterHeightChange,this),this._resize.after("resize:start",this._afterResizeStart,this),this._resize.after("resize:resize",this._afterResizeResize,this),this._resize.after("resize:end",this._afterResizeEnd,this),this._img.after("load",this._afterImageLoad,this)},syncUI:function(){var e=this.get("boundingBox"),t=e.ancestor(this.get("skin"));t||e.ancestor().addClass(this.get("skin")),this._resizeImage()},_afterWidthChange:function(e){(!e.src||e.src!=="resize")&&this._resizeImage()},_afterHeightChange:function(e){(!e.src||e.src!=="resize")&&this._resizeImage()},_makeResize:function(){this._resize=new e.Resize({node:this.get("contentBox"),autoHide:this.get("autoHide")}),this._resize.plug(e.Plugin.ResizeConstrained,{minWidth:this.get("minWidth"),maxWidth:this.get("maxWidth"),minHeight:this.get("minHeight"),maxHeight:this.get("maxHeight")})},_afterResizeStart:function(){this.get("boundingBox").addClass(e.ClassNameManager.getClassName("busy"))},_afterResizeResize:function(t){this._txt.set("text",e.Lang.sub(this.get("textTemplate"),{width:t.info.offsetWidth,height:t.info.offsetHeight}))},_afterResizeEnd:function(e){this.set("width",e.info.offsetWidth,{src:"resize"}),this.set("height",e.info.offsetHeight,{src:"resize"}),this._resizeImage()},_resizeImage:function(){var t={width:this.get("width"),height:this.get("height")};this._img.set("src",e.Lang.sub(this.get("url"),t))},_afterImageLoad:function(){this.get("boundingBox").removeClass(e.ClassNameManager.getClassName("busy")),this._txt.set("text",""),this.fire("imageLoaded",{src:this._img.get("src")})}},{ATTRS:{url:{value:"http://placekitten.com/{width}/{height}"},skin:{value:"yui3-skin-sam"},width:{value:220},height:{value:310},minWidth:{value:50},minHeight:{value:50},maxWidth:{value:300},maxHeight:{value:400},autoHide:{value:!1},textTemplate:{value:"{width} x {height}"}}})},"@VERSION@",{requires:["widget","base-build","resize"],skinnable:!0});
